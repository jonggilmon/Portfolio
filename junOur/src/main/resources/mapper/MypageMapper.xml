<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.example.demo.mapper.MypageMapper">
<select id="myinfo" resultType="com.example.demo.vo.MemberVo">
    select * from member where userid=#{userid}
  </select>

  <update id="chgName">
    update member set name=#{name} where userid=#{userid}
  </update>
  <update id="chgPhone">
    update member set phone=#{phone} where userid=#{userid}
  </update>
  <update id="chgEmail">
    update member set email=#{email} where userid=#{userid}
  </update>
  
  <select id="isPwd" resultType="boolean">
    select count(*) from member where userid=#{userid} and pwd=#{pwd}
  </select>
  
  <update id="pwdChange">
    update member set pwd=#{pwd} where userid=#{userid}
  </update>
  

  <insert id="mtmOk" parameterType="com.example.demo.vo.MtmVo">
  	    insert into mtm(title,content,answer,userid,writeday)
    values (#{title},#{content},#{answer},#{userid},now())
  </insert>
  
  <select id="inquiry_content" resultType="com.example.demo.vo.MtmVo">
  	 select * from mtm where no=#{no}
  </select>
  
  <select id="inquiry_list" resultType="com.example.demo.vo.MtmVo">
  	select * from mtm where userid=#{userid}
  </select>
  
  <select id="inquiryUpdate" resultType="com.example.demo.vo.MtmVo">
  	select * from mtm where no=#{no}
  </select>
  
  <delete id="inquiryDelete">
  	delete from mtm where no=#{no}
  </delete>
  
  <select id="getQuest" resultType="com.example.demo.vo.QuestVo">
  	select * from quest where no=#{no}
  </select>

  <select id="myreserve" resultType="com.example.demo.vo.ReserveInfoVo">
  	select * from reserve_info where user_id=#{userid} order by reserve_date asc
  </select>
  
  <update id="inquiryUpdateOk" parameterType="com.example.demo.vo.MtmVo">
  	update mtm set title=#{title},content=#{content} where no=#{no}
  </update>
  
  <update id="seqOk">
  	update mtm 
  </update>
  </mapper>